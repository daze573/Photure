<% if @genre.errors.any? %>
  <div>
    <h2><%= @genre.errors.count %>件のエラーが発生しました。</h2>
    <ul>
      <% @genre.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
    </ul>
  </div>
<% end %>
<div class="container">
  <div class="row">
    <div class="col-sm-12 col-md-10 col-lg-8 px-5 px-sm-0 mx-auto d-flex justify-content-center m-5">
      <h5 class="d-flex align-items-center pr-3 pl-3">ジャンル一覧・追加</h5>
    </div>
    <div class="col-sm-12 col-md-8 col-lg-5 px-5 px-sm-0 mx-auto" >
      <%= form_with model: @genre, url: admin_genres_path, method: :post, local:true do |f| %>
        <div class=" mb-5">
          <div class="input-group">
            <%= f.text_field :name, :placeholder => "ジャンル名", class: 'form-control' %>
            <%= button_tag :type => "submit", :class =>"input-group-text" do %>
              <i class="fas fa-plus-circle"></i>
            <% end %>
          </div>
        </div>
      <% end %>
      <table class="table table-bordered table-light">
        <thead class="table-active">
          <tr>
            <th class="text-center">ジャンル</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <% @genres.each do |genre| %>
            <tr>
              <td class="text-center">
                <%= genre.name %>
              </td>
              <td class="text-center">
                <%= link_to "編集する", edit_admin_genre_path(genre), class: 'btn btn-outline-success'%>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>
</div>
